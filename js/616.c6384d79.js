"use strict";(self["webpackChunkezmail"]=self["webpackChunkezmail"]||[]).push([[616],{8891:function(t,i,a){a.r(i),a.d(i,{default:function(){return C}});var e=a(3423),s=a(6190),o=a(9582),n=a(4886),r=a(4127),l=a(9223),c=a(4324),h=a(9592),d=a(9258),u=a(2082),p=function(){var t=this,i=t._self._c;return i("div",[i(d.Z,{attrs:{transition:"scale-transition",timeout:t.snackbarTimeout},scopedSlots:t._u([{key:"action",fn:function({attrs:a}){return[i(s.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(i){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Fechar ")])]}}]),model:{value:t.snackbar,callback:function(i){t.snackbar=i},expression:"snackbar"}},[t._v(" "+t._s(t.textoSnackbar)+" ")]),i(o.Z,{staticClass:"ma-2 slide",attrs:{height:"465px"}},[i(n.h7,{staticClass:"fade py-0"},[i(u.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:e}){return[i(s.Z,t._g(t._b({staticClass:"ma-0",attrs:{text:"",icon:""},on:{click:function(i){return t.voltar()}}},"v-btn",e,!1),a),[i(c.Z,{attrs:{color:"blue"}},[t._v("mdi-arrow-left")])],1)]}}])},[i("span",[t._v("Voltar para "+t._s(t.rotas.find((i=>i.path=="/"+t.$route.params.caixa)).title))])]),i(l.Z,{staticClass:"mx-2",attrs:{vertical:""}}),i(u.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:e}){return[i(s.Z,t._g(t._b({staticClass:"ma-0",attrs:{text:"",icon:""},on:{click:t.marcarFavorito}},"v-btn",e,!1),a),[i(c.Z,{attrs:{color:t.email.favorito?"yellow":"blue"}},[t._v(t._s(t.email.favorito?"mdi-star":"mdi-star-outline"))])],1)]}}])},[i("span",[t._v("Marcar como favorito")])]),i(u.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:e}){return[i(s.Z,t._g(t._b({staticClass:"ma-0",attrs:{text:"",icon:""},on:{click:t.marcarImportante}},"v-btn",e,!1),a),[i(c.Z,{attrs:{color:t.email.importante?"red":"blue"}},[t._v(t._s(t.email.importante?"mdi-bookmark":"mdi-bookmark-outline"))])],1)]}}])},[i("span",[t._v("Marcar como importante")])]),i(u.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:e}){return[i(s.Z,t._g(t._b({staticClass:"ma-0",attrs:{text:"",icon:"",disabled:t.email.lixeira},on:{click:t.mandarParaLixeira}},"v-btn",e,!1),a),[i(c.Z,{attrs:{color:"blue"}},[t._v("mdi-delete-outline")])],1)]}}])},[i("span",[t._v("Mandar para lixeira")])]),i(u.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:e}){return[i(s.Z,t._g(t._b({staticClass:"ma-0",attrs:{text:"",icon:"",disabled:!t.email.lido},on:{click:t.marcarNaoLido}},"v-btn",e,!1),a),[i(c.Z,{attrs:{color:"blue"}},[t._v("mdi-email-outline")])],1)]}}])},[i("span",[t._v("Marcar como não lido")])]),i(l.Z,{staticClass:"mx-2",attrs:{vertical:""}})],1),i(l.Z),t.loading?i("div",[i(h.Z,{attrs:{indeterminate:"",color:"primary"}})],1):i("div",[i(n.EB,{staticClass:"fade mb-3"},[i("h4",[t._v(t._s(t.email.assunto))])]),i(n.Qq,{staticClass:"fade"},[i(r.Z,{staticClass:"slide mb-3"},[i(e.Z,{staticClass:"mr-3",attrs:{size:"30"}},[t.email.avatar?i("img",{attrs:{alt:"Avatar",src:t.email.avatar}}):i(c.Z,{attrs:{size:"30",color:"blue"}},[t._v("mdi-account")])],1),i("h4",[t._v(t._s(t.email.endereco))])],1),i("h4",[t._v(t._s(new Date(1e3*t.email.data).toLocaleString()))])],1),i(l.Z),i(n.ZB,{staticClass:"corpo-email fade"},[t._v(" "+t._s(t.email.corpoEmail)+" ")])],1)],1)],1)},m=[],v=(a(7658),a(9007)),f=a(1110),g=a(3562),b={data(){return{snackbar:!1,textoSnackbar:"",snackbarTimeout:5e3,email:new v.Z,routeName:"",loading:!0,rotas:g.Z}},async beforeMount(){await this.obterEmail()},methods:{async obterEmail(){this.loading=!0,await f.Z.obterPorId(this.$route.params.id).then((t=>{this.email=t.data,200!=t.status&&this.$router.push({name:"CaixaEntrada"})})).catch((t=>{console.log(t)})),this.loading=!1},voltar(){const t=g.Z.find((t=>t.path=="/"+this.$route.params.caixa));this.$router.push({name:t.name})},async marcarFavorito(){this.loading=!0,await f.Z.atualizar(this.email.id,{favorito:!this.email.favorito}),this.loading=!1,this.email.favorito=!this.email.favorito,this.textoSnackbar=this.email.favorito?"Marcado como favorito":"Desmarcado como favorito",this.snackbar=!0},async marcarImportante(){this.loading=!0,await f.Z.atualizar(this.email.id,{importante:!this.email.importante}),this.loading=!1,this.email.importante=!this.email.importante,this.textoSnackbar=this.email.importante?"Marcado como importante":"Desmarcado como importante",this.snackbar=!0},async mandarParaLixeira(){this.loading=!0,await f.Z.atualizar(this.email.id,{lixeira:!0}),this.loading=!1,this.email.lixeira=!this.email.lixeira,this.textoSnackbar="Enviado para a lixeira",this.snackbar=!0},async marcarNaoLido(){this.loading=!0,await f.Z.atualizar(this.email.id,{lido:!this.email.lido}),this.loading=!1,this.email.lido=!this.email.lido,this.textoSnackbar="Marcado como não lido",this.snackbar=!0}}},_=b,k=a(1001),Z=(0,k.Z)(_,p,m,!1,null,"0d545185",null),C=Z.exports},4127:function(t,i,a){a.d(i,{Z:function(){return p}});a(7658);var e=a(7678),s=a(7394),o=a(2240),n=a(6878),r=a(3037),l=a(6669),c=a(1444),h=a(8860),d=a(4338),u=a(4101),p=(0,e.Z)(n.Z,d.Z,h.Z,l.Z,(0,r.d)("chipGroup"),(0,c.d)("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:()=>({proxyClass:"v-chip--active"}),computed:{classes(){return{"v-chip":!0,...h.Z.options.computed.classes.call(this),"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose,...this.themeClasses,...this.sizeableClasses,...this.groupClasses}},hasClose(){return Boolean(this.close)},isClickable(){return Boolean(h.Z.options.computed.isClickable.call(this)||this.chipGroup)}},created(){const t=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];t.forEach((([t,i])=>{this.$attrs.hasOwnProperty(t)&&(0,u.fK)(t,i,this)}))},methods:{click(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter(){const t=[];return this.isActive&&t.push(this.$createElement(o.Z,{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(s.Zq,t)},genClose(){return this.$createElement(o.Z,{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:t=>{t.stopPropagation(),t.preventDefault(),this.$emit("click:close"),this.$emit("update:active",!1)}}},this.closeIcon)},genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render(t){const i=[this.genContent()];let{tag:a,data:e}=this.generateRouteLink();e.attrs={...e.attrs,draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:e.attrs.tabindex},e.directives.push({name:"show",value:this.active}),e=this.setBackgroundColor(this.color,e);const s=this.textColor||this.outlined&&this.color;return t(a,this.setTextColor(s,e),i)}})},2082:function(t,i,a){a.d(i,{Z:function(){return d}});var e=a(1452),s=a(6878),o=a(3016),n=a(908),r=a(8938),l=a(5352),c=a(4101),h=a(7678),d=(0,h.Z)(s.Z,o.Z,n.Z,r.Z).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:()=>({calculatedMinWidth:0,closeDependents:!1}),computed:{calculatedLeft(){const{activator:t,content:i}=this.dimensions,a=!this.bottom&&!this.left&&!this.top&&!this.right,e=!1!==this.attach?t.offsetLeft:t.left;let s=0;return this.top||this.bottom||a?s=e+t.width/2-i.width/2:(this.left||this.right)&&(s=e+(this.right?t.width:-i.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),`${this.calcXOverflow(s,this.dimensions.content.width)}px`},calculatedTop(){const{activator:t,content:i}=this.dimensions,a=!1!==this.attach?t.offsetTop:t.top;let e=0;return this.top||this.bottom?e=a+(this.bottom?t.height:-i.height)+(this.bottom?10:-10):(this.left||this.right)&&(e=a+t.height/2-i.height/2),this.nudgeTop&&(e-=parseInt(this.nudgeTop)),this.nudgeBottom&&(e+=parseInt(this.nudgeBottom)),!1===this.attach&&(e+=this.pageYOffset),`${this.calcYOverflow(e)}px`},classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY(){return this.top||this.bottom},offsetX(){return this.left||this.right},styles(){return{left:this.calculatedLeft,maxWidth:(0,l.kb)(this.maxWidth),minWidth:(0,l.kb)(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount(){this.$nextTick((()=>{this.value&&this.callActivate()}))},mounted(){"v-slot"===(0,l.sp)(this,"activator",!0)&&(0,c.N6)("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate(){this.runDelay("close")},genActivatorListeners(){const t=e.Z.options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(t.focus=t=>{this.getActivator(t),this.runDelay("open")},t.blur=t=>{this.getActivator(t),this.runDelay("close")}),t.keydown=t=>{t.keyCode===l.Do.esc&&(this.getActivator(t),this.runDelay("close"))},t},genActivatorAttributes(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition(){const t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:{[this.contentClass]:!0,menuable__content__active:this.isActive,"v-tooltip__content--fixed":this.activatorFixed},style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render(t){return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((()=>[this.genTransition()])),this.genActivator()])}})}}]);
//# sourceMappingURL=616.c6384d79.js.map